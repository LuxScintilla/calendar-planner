let e;const t=document.querySelector(".modal__backdrop"),a=document.querySelector(".modal__new-task"),o=document.querySelector(".modal__edit-task"),n=document.querySelector(".modal__delete-task"),s=document.querySelector(".modal__weather"),l=document.querySelector(".modal__profile"),r=document.querySelector(".modal__form"),d=document.querySelector(".modal__task-input"),i=document.querySelector(".username-input"),c=document.querySelector(".location-input"),y=document.querySelector(".modal__render-edit-container"),u=document.querySelector(".modal__render-delete-container"),h=document.querySelector(".modal__btn-save"),m=document.querySelector(".modal__btn-profile-save"),g=document.querySelectorAll(".modal__btn-done"),k=document.querySelectorAll(".modal__btn-cancel"),p=document.querySelector(".modal__btn-ok");r.addEventListener("keydown",function(e){"Enter"===e.key&&e.preventDefault()}),h.addEventListener("click",function(o){let n={taskDate:Number(e),taskMonth:W.month,taskTitle:d.value};B[B.length]=n,localStorage.setItem("tasks",JSON.stringify(B)),t.style.display="none",a.style.display="none",document.body.style.overflow="auto",document.body.style.height="auto",d.value="",ee()});const f=function(){t.style.display="block",a.style.display="flex",d.focus(),document.body.style.overflow="hidden",document.body.style.height="100%"},b=function(){let a="",n=1;B.filter(t=>t.taskDate===Number(e)&&t.taskMonth===W.month).forEach(e=>{a+=`<div class="modal__task-container">
      <label class="modal__task-label--edit" for="task">Task ${n}:</label>
      <input class="modal__task-input" name="task" type="text" data-task=${n} value="${e.taskTitle}" autocomplete="off" maxlength="30"
      readonly>
      <button class="edit-task-btn" data-task=${n}>Edit</button>
    </div>`,n++}),y.innerHTML="",y.insertAdjacentHTML("afterbegin",a),t.style.display="block",o.style.display="flex",document.body.style.overflow="hidden",document.body.style.height="100%"},v=function(){let a="",o=1;B.filter(t=>t.taskDate===Number(e)&&t.taskMonth===W.month).forEach(e=>{a+=`<div class="modal__task-container">
      <label class="modal__task-label--delete" for="task">Task ${o}:</label>
      <input class="modal__task-input" name="task" type="text" data-task=${o} value="${e.taskTitle}" autocomplete="off" maxlength="30"
      readonly>
      <button class="delete-task-btn" data-task=${o}>Delete</button>
    </div>`,o++}),u.innerHTML="",u.insertAdjacentHTML("afterbegin",a),t.style.display="block",n.style.display="flex",document.body.style.overflow="hidden",document.body.style.height="100%"},_=document.querySelector(".weather__img"),w=document.querySelector(".weather__temp"),S=document.querySelector(".humidity"),x=document.querySelector(".humidity__text"),D=document.querySelector(".wind"),E=document.querySelector(".wind__text"),$=async function(){t.style.display="block",s.style.display="flex",document.body.style.overflow="hidden",document.body.style.height="100%";try{let e;if(_.classList.add("spinner-class"),localStorage.getItem("profile")){let t=JSON.parse(localStorage.getItem("profile"));if(e=await L(t.location),I(),e.current)_.classList.remove("spinner-class"),_.src=e.current.condition.icon,w.textContent=`${e.current.temp_c}\xb0C`,x.textContent=`${e.current.humidity}%`,E.textContent=`${e.current.wind_mph} mph`;else throw Error("Invalid location in your profile")}else localStorage.getItem("profile")||q("Enter a location into your profile (top left)")}catch(e){console.error(e),q("Invalid location! Please change your location to a valid city or country name")}},q=function(e){_.style.display="none",w.style.fontSize="2.4rem",w.textContent=e,S.style.display="none",x.style.display="none",D.style.display="none",E.style.display="none"},I=function(){_.style.display="block",S.style.display="block",x.style.display="inline-block",D.style.display="block",E.style.display="inline-block"},L=async function(e){try{let t=await fetch(`https://api.weatherapi.com/v1/current.json?key=9b3d812c470e4cc4abf95058240901&q=${e}&aqi=no`);if(!t.ok)throw Error("Invalid request, change location and try again");let a=await t.json();return console.log(a),a}catch(e){console.error(e)}},C=function(){P=JSON.parse(localStorage.getItem("profile")),localStorage.getItem("profile")?(i.placeholder=P.username,c.placeholder=P.location):(i.placeholder="Username",c.placeholder="Location"),t.style.display="block",l.style.display="flex",i.focus(),document.body.style.overflow="hidden",document.body.style.height="100%"},M=document.querySelector(".profile__weather-img");m.addEventListener("click",function(){let e={username:localStorage.getItem("profile")&&""===i.value?P.username:i.value,location:localStorage.getItem("profile")&&""===c.value?P.location:c.value};localStorage.setItem("profile",JSON.stringify(e)),el(),er(),M.style.display="block",t.style.display="none",l.style.display="none",document.body.style.overflow="auto",document.body.style.height="auto",i.value="",c.value=""}),k.forEach(e=>{e.addEventListener("click",function(){t.style.display="none",a.style.display="none",o.style.display="none",n.style.display="none",l.style.display="none",document.body.style.overflow="auto",document.body.style.height="auto"})}),g.forEach(e=>{e.addEventListener("click",function(){t.style.display="none",a.style.display="none",o.style.display="none",n.style.display="none",document.body.style.overflow="auto",document.body.style.height="auto",ee()})}),p.addEventListener("click",function(){t.style.display="none",s.style.display="none",document.body.style.overflow="auto",document.body.style.height="auto"});const N=document.querySelector(".organiser__dates"),T=document.getElementById("month-year"),A=document.querySelector(".month__button--previous"),O=document.querySelector(".month__button--next"),J=document.querySelector(".profile__avatar"),z=document.querySelector(".profile__username"),H=document.querySelector(".profile__location");document.querySelector(".profile__weather");const j=document.querySelector(".profile__weather-img"),F=document.querySelector(".profile__weather-text"),U=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];let K=new Date,Y=new Date().getDate(),B=localStorage.getItem("tasks")?JSON.parse(localStorage.getItem("tasks")):[],P=localStorage.getItem("profile")?JSON.parse(localStorage.getItem("profile")):[];const W={},G=function(){W.day=K.getDay(),W.month=K.getMonth(),W.year=K.getFullYear(),W.daysInMonth=new Date(W.year,W.month+1,0).getDate(),W.firstDayOfMonth=new Date(W.year,W.month,1),W.dateString=W.firstDayOfMonth.toLocaleDateString("en-UK",{weekday:"long",day:"numeric",month:"long",year:"numeric"}),W.paddingDays=U.indexOf(W.dateString.split(", ")[0])},Q=function(e,t){let a=B.filter(t=>t.taskDate===e&&W.month===t.taskMonth);return a[t]&&a[t].taskMonth===W.month?`${a[t].taskTitle}`:""},R=function(e){return B.some(t=>t.taskDate===e)?`<button class="tasks__btn tasks__btn--edit" aria-label="button to edit existing tasks for this date" data-date="${e}"><i class="fa-solid fa-pen-to-square"></i></button>`:""},V=function(e){return B.some(t=>t.taskDate===e)?`<button class="tasks__btn tasks__btn--delete" aria-label="button to delete some tasks for this date" data-date="${e}"><i class="fa-solid fa-trash"></i></button>`:""},X=function(){let e="";for(let o=1;o<=W.paddingDays+W.daysInMonth;o++)if(o>W.paddingDays){var t,a;e+=`
      <div class="tasks">
          <div class="tasks__date${o-W.paddingDays===Y&&W.month===new Date().getMonth()?"--current":""}"><span>${o-W.paddingDays}</span></div>
          <div class="tasks__divider">
            ${(t=o-W.paddingDays)===Y?`<button class="tasks__btn tasks__btn--weather" aria-label="button to see current weather for this date" data-date="${t}"><i class="fa-solid fa-cloud-sun"></i></button>`:""}
            ${(a=o-W.paddingDays)<Y?"":`<button class="tasks__btn tasks__btn--add" aria-label="button to add task for this date" data-date="${a}"><i class="fa-solid fa-plus"></i></button>`}
            ${R(o-W.paddingDays)}
            ${V(o-W.paddingDays)}
          </div>
          <div class="tasks__checkbox">
            <input type="checkbox" name="checkbox" id="task-1-${o-W.paddingDays}">
          </div>
          <label class="tasks__todo" for="task-1-${o-W.paddingDays}" data-task="task-1-${o-W.paddingDays}">${Q(o-W.paddingDays,0)?Q(o-W.paddingDays,0):""}</label>
          <div class="tasks__checkbox">
            <input type="checkbox" name="checkbox" id="task-2-${o-W.paddingDays}">
          </div>
          <label class="tasks__todo" for="task-2-${o-W.paddingDays}" data-task="task-2-${o-W.paddingDays}">${Q(o-W.paddingDays,1)?Q(o-W.paddingDays,1):""}</label>
          <div class="tasks__checkbox">
            <input type="checkbox" name="checkbox" id="task-3-${o-W.paddingDays}">
          </div>
          <label class="tasks__todo" for="task-3-${o-W.paddingDays}" data-task="task-3-${o-W.paddingDays}">${Q(o-W.paddingDays,2)?Q(o-W.paddingDays,2):""}</label>
          <div class="tasks__checkbox">
            <input type="checkbox" name="checkbox" id="task-4-${o-W.paddingDays}">
          </div>
          <label class="tasks__todo" for="task-4-${o-W.paddingDays}" data-task="task-4-${o-W.paddingDays}">${Q(o-W.paddingDays,3)?Q(o-W.paddingDays,3):""}</label>
          <div class="tasks__checkbox">
            <input type="checkbox" name="checkbox" id="task-5-${o-W.paddingDays}">
          </div>
          <label class="tasks__todo" for="task-5-${o-W.paddingDays}" data-task="task-5-${o-W.paddingDays}">${Q(o-W.paddingDays,4)?Q(o-W.paddingDays,4):""}</label>
          <div class="tasks__checkbox">
            <input type="checkbox" name="checkbox" id="task-6-${o-W.paddingDays}">
          </div>
          <label class="tasks__todo" for="task-6-${o-W.paddingDays}" data-task="task-6-${o-W.paddingDays}">${Q(o-W.paddingDays,5)?Q(o-W.paddingDays,5):""}</label>
        </div>
      `}else e+=`
      <div class="padding"></div>
      `;N.innerHTML="",N.insertAdjacentHTML("afterbegin",e)},Z=function(){T.textContent=`${new Intl.DateTimeFormat("en-UK",{month:"long"}).format(K)} ${K.getFullYear()}`},ee=function(){B=localStorage.getItem("tasks")?JSON.parse(localStorage.getItem("tasks")):[],Z(),G(),X(),et(),en()};A.addEventListener("click",function(){K=0===K.getMonth()?new Date(W.year-1,11):new Date(W.year,W.month-1),ee()}),O.addEventListener("click",function(){K=11===K.getMonth()?new Date(W.year+1,0):new Date(W.year,W.month+1),ee()});const et=function(){let t=document.querySelectorAll(".tasks__btn--add"),a=document.querySelectorAll(".tasks__btn--edit"),o=document.querySelectorAll(".tasks__btn--delete"),n=document.querySelectorAll(".tasks__btn--weather");t.forEach(t=>t.addEventListener("click",function(t){e=t.target.closest(".tasks__btn--add").dataset.date,f()})),a.forEach(t=>{t.addEventListener("click",function(t){e=t.target.closest(".tasks__btn--edit").dataset.date,b(),ea()})}),o.forEach(t=>{t.addEventListener("click",function(t){e=t.target.closest(".tasks__btn--delete").dataset.date,v(),eo()})}),n.forEach(t=>{t.addEventListener("click",function(t){e=t.target.closest(".tasks__btn--weather").dataset.date,$()})})},ea=function(){let t,a;let o=document.querySelectorAll(".edit-task-btn"),n=document.querySelectorAll(".modal__task-input");o.forEach(o=>{o.addEventListener("click",()=>{"Edit"===o.textContent?(o.textContent="Save",n.forEach(e=>{o.dataset.task===e.dataset.task&&e.hasAttribute("readonly")&&(t=e.value,e.removeAttribute("readonly"))})):"Save"===o.textContent&&(o.textContent="Edit",n.forEach(n=>{if(o.dataset.task===n.dataset.task&&!n.hasAttribute("readonly")){a=n.value;let o=B.map(o=>o.taskDate!==Number(e)&&o.taskMonth===W.month||o.taskDate===Number(e)&&o.taskTitle!==t&&o.taskMonth===W.month?o:o.taskDate===Number(e)&&o.taskTitle===t&&o.taskMonth===W.month?(o.taskTitle=a,o):void 0);n.setAttribute("readonly","readonly"),localStorage.setItem("tasks",JSON.stringify(o))}}))})})},eo=function(){let t=document.querySelectorAll(".delete-task-btn"),a=document.querySelectorAll(".modal__task-input"),o=[];t.forEach(t=>{t.addEventListener("click",()=>{"Delete"===t.textContent?t.textContent="Confirm":"Confirm"===t.textContent&&(t.textContent="Delete",a.forEach(a=>{t.dataset.task===a.dataset.task&&(o.push(a.value),t.style.display="none",a.style.display="none");let n=B.filter(t=>{if(t.taskDate!==Number(e)&&t.taskMonth===W.month||t.taskDate===Number(e)&&!o.some(e=>e===t.taskTitle)&&t.taskMonth===W.month)return t;if(t.taskDate===Number(e)&&o.some(e=>e===t.taskTitle)&&t.taskMonth===W.month)return});localStorage.setItem("tasks",JSON.stringify(n))}))})})},en=function(){let e=document.querySelectorAll('input[type="checkbox"]'),t=document.querySelectorAll(".tasks__todo");e.forEach(e=>e.addEventListener("change",function(){this.checked?t.forEach(e=>{e.dataset.task===this.id&&(e.style.opacity=.5,e.style.textDecoration="line-through",es(this.parentElement.nextElementSibling.textContent,!0))}):t.forEach(e=>{e.dataset.task===this.id&&(e.style.opacity=1,e.style.textDecoration="none",es(this.parentElement.nextElementSibling.textContent,!1))})})),e.forEach(e=>{let a=e.parentElement.nextElementSibling.textContent;B.forEach(o=>{o.taskTitle===a&&!0===o.checked&&(e.setAttribute("checked",""),t.forEach(e=>{e.textContent===a&&(e.style.opacity=.5,e.style.textDecoration="line-through")}))})})},es=function(e,t){B.forEach(a=>{a.taskTitle===e&&(a.checked=t,localStorage.setItem("tasks",JSON.stringify(B)))})};J.addEventListener("click",function(){C()});const el=function(){P=JSON.parse(localStorage.getItem("profile")),localStorage.getItem("profile")?(z.textContent=P.username,H.textContent=P.location):(z.textContent="User",H.textContent="Location")},er=async function(){try{let e;if(j.classList.add("spinner-class"),localStorage.getItem("profile")){let t=JSON.parse(localStorage.getItem("profile"));if((e=await L(t.location)).current)j.classList.remove("spinner-class"),j.src=ed[e.current.condition.code],F.textContent=`${e.current.temp_c}\xb0C`;else throw Error("Invalid location in your profile")}else localStorage.getItem("profile")||(j.classList.remove("spinner-class"),j.style.display="none",F.textContent="No Location")}catch(e){console.error(e),j.classList.remove("spinner-class"),j.style.display="none",F.textContent="Invalid Location"}},ed={1e3:"/weather/clear-day.svg",1003:"/weather/partly-cloudy-day.svg",1006:"/weather/cloudy.svg",1009:"/weather/overcast.svg",1030:"/weather/mist.svg",1063:"/weather/partly-cloudy-day-rain.svg",1066:"/weather/partly-cloudy-day-snow.svg",1069:"/weather/partly-cloudy-day-sleet.svg",1072:"/weather/partly-cloudy-day-hail.svg",1087:"/weather/thunderstorms-day.svg",1114:"/weather/snow.svg",1117:"/weather/extreme-snow.svg",1135:"/weather/fog.svg",1147:"/weather/overcast-fog.svg",1150:"/weather/overcast-day-drizzle.svg",1153:"/weather/drizzle.svg",1168:"/weather/hail.svg",1171:"/weather/hail.svg",1180:"/weather/partly-cloudy-day-rain.svg",1183:"/weather/drizzle.svg",1186:"/weather/rain.svg",1189:"/weather/rain.svg",1192:"/weather/overcast-rain.svg",1195:"/weather/overcast-rain.svg",1198:"/weather/hail.svg",1201:"/weather/hail.svg",1204:"/weather/sleet.svg",1207:"/weather/extreme-sleet.svg",1210:"/weather/partly-cloudy-day-snow.svg",1213:"/weather/snow.svg",1216:"/weather/partly-cloudy-day-snow.svg",1219:"/weather/snow.svg",1222:"/weather/overcast-snow.svg",1225:"/weather/extreme-snow.svg",1237:"/weather/hail.svg",1240:"/weather/rain.svg",1243:"/weather/extreme-rain.svg",1246:"/weather/extreme-rain.svg",1249:"/weather/sleet.svg",1252:"/weather/extreme-sleet.svg",1255:"/weather/snow.svg",1258:"/weather/overcast-snow.svg",1261:"/weather/hail.svg",1264:"/weather/extreme-hail.svg",1273:"/weather/thunderstorms-day-rain.svg",1276:"/weather/thunderstorms-extreme-rain.svg",1279:"/weather/thunderstorms-day-snow.svg",1282:"/weather/thunderstorms-extreme-snow.svg"},ei=document.querySelectorAll(".themes__btn");let ec=localStorage.getItem("theme")?JSON.parse(localStorage.getItem("theme")):"purple";ei.forEach(e=>{e.addEventListener("click",function(){localStorage.setItem("theme",JSON.stringify(e.id)),ey(),location.replace(location.href)})});const ey=function(){document.documentElement.classList.add(ec)};ey(),el(),er(),G(),Z(),X(),et(),en();
//# sourceMappingURL=index.235e4480.js.map
